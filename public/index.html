<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Welcome to Firebase Hosting</title>

  <!-- update the version number as needed -->
  <script defer src="/__/firebase/5.3.1/firebase-app.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/5.3.1/firebase-auth.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-database.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-messaging.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-storage.js"></script>
  <!-- initialize the SDK after all desired features are loaded -->
  <script defer src="/__/firebase/init.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>

  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyA4tSUZ2QA-GdnL5Q9JXC_h8GaFMlB9XsE",
      authDomain: "samplechat-40cfe.firebaseapp.com",
      databaseURL: "https://samplechat-40cfe.firebaseio.com",
      projectId: "samplechat-40cfe",
      storageBucket: "samplechat-40cfe.appspot.com",
      messagingSenderId: "342321306892"
    };
    firebase.initializeApp(config);
  </script>

</head>

<body>
  
  <input type="text" id="msg">
  <input type="button" id="send" value="send!">
  <ul id="msg-list">

  </ul>

  <script>
    const msgRef = firebase.database().ref("/");
    document.getElementById("send").addEventListener("click", e => {
      const msg = document.getElementById("msg");
      msgRef.push({"message": msg.value});
      msg.value = "";
    });
    msgRef.on("child_added", snap => {
      const ul = document.getElementById("msg-list");
      const li = document.createElement("li");
      li.textContent = snap.val().message;
      ul.appendChild(li);
    });
  </script>

</body>

</html>